var t={d:(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function n(t){try{window.postMessage({type:"MVU_DATA_UPDATE",data:t},"*"),window.__latest_mvu_event=t,console.log("[MVU-Connector] Sent data update to status bar")}catch(t){console.error("[MVU-Connector] Error sending data:",t)}}function o(){if(console.log("[MVU-Connector] Initializing..."),!function(){const t=window;return t.eventOn&&"function"==typeof t.eventOn&&void 0!==t.mag_variable_updated}())return console.error("[MVU-Connector] MagVarUpdate system not found in SillyTavern!"),void console.error("[MVU-Connector] Please install MagVarUpdate first by following the tutorial.");const t=window;["mag_variable_updated","mag_variable_update_ended","mag_variable_update_started"].forEach((e=>{t.eventOn(e,(function(t){if(console.log(`[MVU-Connector] Received MVU event: ${e}`,t),t&&(t.stat_data||t[0]&&t[0].stat_data)){n(t.stat_data||t[0].stat_data)}}))})),console.log("[MVU-Connector] Successfully registered MVU event listeners")}t.d(e,{U:()=>o,X:()=>n}),document.addEventListener("DOMContentLoaded",o);const a=e.U,r=e.X;export{a as initMVUConnector,r as updateStatusBarWithMVUData};